/**
 * Celeste Homepage Animation System
 * Scroll-triggered reveals and hover effects
 * Reference: docs/CELESTE_HOMEPAGE/ANIMATION_PLAYBOOK.md
 */

:root {
  /* ═══ ANIMATION TOKENS ═══ */
  --anim-ease: cubic-bezier(0.16, 1, 0.3, 1);      /* Fast start, gentle deceleration */
  --anim-ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1); /* Slight overshoot — buttons only */
  --anim-duration-fast: 150ms;
  --anim-duration-normal: 400ms;
  --anim-duration-slow: 600ms;
  --anim-duration-scroll: 800ms;
  --anim-stagger: 80ms;              /* Delay between sibling elements */
}

/* ═══ SCROLL REVEAL BASE ═══ */
.scroll-reveal {
  opacity: 0;
  transform: translateY(20px);
  transition:
    opacity var(--anim-duration-scroll) var(--anim-ease),
    transform var(--anim-duration-scroll) var(--anim-ease);
}

.scroll-reveal.visible {
  opacity: 1;
  transform: translateY(0);
}

/* ═══ STAGGERED CHILDREN ═══ */
.scroll-reveal.visible > :nth-child(1) { transition-delay: 0ms; }
.scroll-reveal.visible > :nth-child(2) { transition-delay: 80ms; }
.scroll-reveal.visible > :nth-child(3) { transition-delay: 160ms; }
.scroll-reveal.visible > :nth-child(4) { transition-delay: 240ms; }
.scroll-reveal.visible > :nth-child(5) { transition-delay: 320ms; }
.scroll-reveal.visible > :nth-child(6) { transition-delay: 400ms; }

/* ═══ STAGGER CHILDREN INDIVIDUALLY ═══ */
.stagger-children > * {
  opacity: 0;
  transform: translateY(16px);
  transition:
    opacity var(--anim-duration-scroll) var(--anim-ease),
    transform var(--anim-duration-scroll) var(--anim-ease);
}

.stagger-children.visible > :nth-child(1) { opacity: 1; transform: translateY(0); transition-delay: 0ms; }
.stagger-children.visible > :nth-child(2) { opacity: 1; transform: translateY(0); transition-delay: 80ms; }
.stagger-children.visible > :nth-child(3) { opacity: 1; transform: translateY(0); transition-delay: 160ms; }
.stagger-children.visible > :nth-child(4) { opacity: 1; transform: translateY(0); transition-delay: 240ms; }
.stagger-children.visible > :nth-child(5) { opacity: 1; transform: translateY(0); transition-delay: 320ms; }

/* ═══ FADE FROM LEFT/RIGHT VARIANTS ═══ */
.scroll-reveal-left {
  opacity: 0;
  transform: translateX(-20px);
  transition:
    opacity var(--anim-duration-scroll) var(--anim-ease),
    transform var(--anim-duration-scroll) var(--anim-ease);
}

.scroll-reveal-right {
  opacity: 0;
  transform: translateX(20px);
  transition:
    opacity var(--anim-duration-scroll) var(--anim-ease),
    transform var(--anim-duration-scroll) var(--anim-ease);
}

.scroll-reveal-left.visible,
.scroll-reveal-right.visible {
  opacity: 1;
  transform: translateX(0);
}

/* ═══ SCALE FADE VARIANT ═══ */
.scroll-reveal-scale {
  opacity: 0;
  transform: scale(0.95);
  transition:
    opacity var(--anim-duration-scroll) var(--anim-ease),
    transform var(--anim-duration-scroll) var(--anim-ease);
}

.scroll-reveal-scale.visible {
  opacity: 1;
  transform: scale(1);
}

/* ═══ HERO ENTRANCE ANIMATIONS (PAGE LOAD) ═══ */
.hero-animate-1 {
  animation: heroFadeUp 400ms var(--anim-ease) forwards;
  animation-delay: 0ms;
  opacity: 0;
}

.hero-animate-2 {
  animation: heroFadeUp 600ms var(--anim-ease) forwards;
  animation-delay: 100ms;
  opacity: 0;
}

.hero-animate-3 {
  animation: heroFadeUp 600ms var(--anim-ease) forwards;
  animation-delay: 200ms;
  opacity: 0;
}

.hero-animate-4 {
  animation: heroFadeUpScale 400ms var(--anim-ease-bounce) forwards;
  animation-delay: 400ms;
  opacity: 0;
}

.hero-animate-5 {
  animation: heroFadeUp 800ms var(--anim-ease) forwards;
  animation-delay: 300ms;
  opacity: 0;
}

@keyframes heroFadeUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes heroFadeUpScale {
  from {
    opacity: 0;
    transform: translateY(8px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ═══ BUTTON HOVER EFFECTS ═══ */
.btn-ghost {
  transition: all var(--anim-duration-normal) var(--anim-ease);
}

.btn-ghost:hover {
  background: var(--hp-brand-interactive);
  border-color: var(--hp-brand-interactive);
  color: white;
  transform: translateY(-1px);
}

.btn-primary {
  transition: all var(--anim-duration-normal) var(--anim-ease);
}

.btn-primary:hover {
  background: var(--hp-brand-hover);
  box-shadow: 0 0 32px rgba(43,143,179,0.3);
  transform: translateY(-1px);
}

.btn-primary:active {
  transform: translateY(0);
  box-shadow: 0 0 16px rgba(43,143,179,0.2);
}

/* ═══ FEATURE CARD HOVER ═══ */
.feature-card {
  transition:
    transform var(--anim-duration-normal) var(--anim-ease),
    box-shadow var(--anim-duration-normal) var(--anim-ease),
    border-color var(--anim-duration-normal) var(--anim-ease);
}

.feature-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  border-color: rgba(255,255,255,0.1);
}

.feature-card:hover .card-image {
  transform: scale(1.02);
}

.card-image {
  transition: transform var(--anim-duration-slow) var(--anim-ease);
}

/* ═══ SCREENSHOT HOVER ═══ */
.screenshot-hover {
  transition: transform var(--anim-duration-slow) var(--anim-ease);
}

.screenshot-hover:hover {
  transform: scale(1.01);
}

/* ═══ NAV LINK HOVER ═══ */
.nav-link-animated {
  transition: color var(--anim-duration-fast) ease-out;
}

.nav-link-animated:hover {
  color: var(--hp-text-primary);
}

/* ═══ COUNTER ANIMATION (for stats section) ═══ */
@keyframes countUp {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.counter-animate {
  animation: countUp 800ms var(--anim-ease) forwards;
}

.counter-animate:nth-child(1) { animation-delay: 0ms; }
.counter-animate:nth-child(2) { animation-delay: 150ms; }
.counter-animate:nth-child(3) { animation-delay: 300ms; }

/* ═══ PARALLAX HELPER ═══ */
.parallax-slow {
  will-change: transform;
}

/* ═══ ACCESSIBILITY: REDUCED MOTION ═══ */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .scroll-reveal,
  .scroll-reveal-left,
  .scroll-reveal-right,
  .scroll-reveal-scale,
  .stagger-children > * {
    opacity: 1 !important;
    transform: none !important;
  }

  .hero-animate-1,
  .hero-animate-2,
  .hero-animate-3,
  .hero-animate-4,
  .hero-animate-5 {
    opacity: 1 !important;
    animation: none !important;
  }
}
